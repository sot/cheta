cheta.derived.mups_valve.fetch_clean_msid
=========================================

.. py:function:: cheta.derived.mups_valve.fetch_clean_msid(msid, start, stop=None, dt_thresh=5.0, median=7, model_spec=None, version=None)

   
   Fetch a cleaned version of telemetry for ``msid``.

    If not supplied the model spec will come from
    ``xija.get_model_spec.get_xija_model_spec(msid, version=version)``
    (which uses ``$SKA/data/chandra_models/chandra_models/xija/mups_valve/{msid}_spec.json``).

   This function returns a `fetch.Msid` object like a normal fetch but with extra attributes:

   - vals: cleaned telemetry (either original or corrected telemetry, or xija model prediction)
   - source: label for each vals data point
     - 0: unrecoverable, so use xija model value
     - 1: original telemetry
     - 2: corrected telemetry
   - vals_raw: raw (uncleaned) telemetry
   - vals_nan: cleaned telem but with np.nan at points where data are unrecoverable (this is
               for plotting)
   - vals_corr: telemetry with the MUPS correction applied
   - vals_model: xija model prediction

   :param start: start time
   :param stop: stop time (default=NOW)
   :param dt_thresh: tolerance for matching model to data in degF (default=5 degF)
   :param median: length of median filter (default=7, use 0 to disable)
   :param model_spec: file name or URL containing relevant xija model spec
   :param version: version of chandra_models repo (tag, branch, or commit)

   :returns: fetch.Msid object















   ..
       !! processed by numpydoc !!
